<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div>
    <a key='a'>a标签</a>
    <b>b标签</b>
  </div>
  <i>i标签</i>
  <script>
    class A {
      constructor (props) {
        const that = this;
        let _dirty = true;
        Object.defineProperty(this, '_dirty', {
          set (value) {
            if (!value) {
              that.state = Object.assign((that.state || {}), that.delayState);
            }
            _dirty = value;
          },
          get () {
            return _dirty;
          }
        })
        this.props = props;
        this.delayState = {};
      }
    }
    const a = new A();
    a.delayState = {
      a: 1,
      b: 2
    }
    a.state = {
      c: 3
    }
    a._dirty = false;
    console.log(a.state);
  </script>
</body>
</html>